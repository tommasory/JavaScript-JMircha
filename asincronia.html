<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asíncronia JavaScript</title>
</head>
<body>
    <script>
        console.log("Inicio.")
        /*
        let temporizador = setTimeout(() => {
            console.log('Ejecutando un setTimeout, esto se ejecuta una sola vez')
        }, 3000);
        clearTimeout(temporizador)
        
        let temporizador = setInterval(() => {
            console.log('Ejecutando un setInterval, esto se ejecuta cada cierto intervalo de tiempo')
        }, 3000);
        clearInterval(temporizador)
        
        */

        // Código síncrono y bloqueante
        /*
        console.log("Inicio");

        function dos() {
            console.log("Dos");
        }

        function uno() {
            console.log("Uno");
            dos();
            console.log("Tres");
        }

        uno();
        console.log("Fin");*/

        // Código asíncrono y no bloquenate
        /*
        function dos() {
        setTimeout(function () {
            console.log("Dos");
        }, 1000);
        }

        function uno() {
        setTimeout(function () {
            console.log("Uno");
        }, 0);
        dos();
        console.log("Tres");
        }

        uno();*/
        /*
        function cuadradoCallback(value, callback) {
            let  tiempo = 0 | (Math.random() * 10000)
            console.log(`Orden y tiempo: ${value} Num,${tiempo} Msg`)
            setTimeout(() => {
                callback(value, value * value);
            }, tiempo); // Temporizador dinamico
        }

        for (let i = 2; i < 6; i++) {
            cuadradoCallback(i, (value, result) => {
                console.log('Incia Callback');
                console.log(`Callback: ${value}, ${result}`)
            })
        }*/
        /*
        function cuadradoCallback(value, callback) {
            let  tiempo = 0 | (Math.random() * 10000)
            console.log(`Orden y tiempo: ${value} Num,${tiempo} Msg`)
            setTimeout(() => {
                callback(value, value * value);
            }, tiempo); // Temporizador dinamico
        }

        cuadradoCallback(2, (value, result) => {
            console.log('Incia Callback');
            console.log(`Callback: ${value}, ${result}`)
            cuadradoCallback(3, (value, result) => {
                console.log(`Callback: ${value}, ${result}`)
                cuadradoCallback(4, (value, result) => {
                    console.log(`Callback: ${value}, ${result}`)
                    cuadradoCallback(5, (value, result) => {
                        console.log(`Callback: ${value}, ${result}`)
                    })
                })
            })
        })
        */
        /*
        function cuadradoPromise(value) {
            if (typeof value !== "number") {
                return Promise.reject(
                    `Error, el valor " ${value} " ingresado no es un número`
                );
            }
            let  tiempo = 0 | (Math.random() * 1000)
            console.log(`Numero y tiempo: ${value} Num,${tiempo} Msg`)
            return new Promise((resolve, reject)=>{
                setTimeout(() => {
                    resolve({value, result:value * value})
                }, tiempo); // Temporizador dinamico
            })
        }

        cuadradoPromise(2)
            .then((obj)=>{
                console.log('Inicio Promise');
                console.log(`Promise: ${obj.value}, ${obj.result}`)
                return cuadradoPromise(3)
            })
            .then(obj => {
                console.log(`Promise: ${obj.value}, ${obj.result}`)
                return cuadradoPromise(4)
            })
            .then(obj => {
                console.log(`Promise: ${obj.value}, ${obj.result}`)
                return cuadradoPromise(5)
            })
            .then(obj => {
                console.log(`Promise: ${obj.value}, ${obj.result}`)
            }) // Corta el programa en tiempo real si ocurre un fallo en la funcion
            .catch(err => console.error(err));*/

        console.log("Fin.")
    </script>
</body>
</html>